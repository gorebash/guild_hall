

<h3>Invite new members</h3>
<div class="mb-5">
  <div class="alert alert-info mb-3">
    <div>
      <p class="">Share the invite link below with friends to invite them to join your guild.</p>
      <div class="input-group mb-3" data-controller="clipboard">
        <label class="input-group-text" for="join_request_invite_code">Guild link:</label>
        <input class="form-control" placeholder="Guild Code" type="text" id="join_request_invite_code"
          value="<%= join_url(@guild.invite_code) %>"
          data-disable-with="Copy"
          data-clipboard-target="source" readonly />
        <button type="submit" value="Copy" class="btn btn-secondary" 
          data-action="clipboard#copy">
          <i class="bi bi-clipboard-plus"></i> Copy
        </button>

        <div class="toast-container position-fixed top-0 end-0 p-3">
          <div id="toast-clipboard" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-success">
              <strong class="me-auto"><i class="bi bi-clipboard-check-fill"></i> Copied!</strong>
              <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
              Invite link copied to your clipboard
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="">
    <h5>How does this work?</h5>
    <p>When your friend visits this link, they will be able to request to join your guild.</p>
    <p>Guild Administators can approve or deny their request, which will appear on this page.
      (They will need to create a GuildHall account if they don't already have one.)</p>
  </div>
</div>



<% if can_edit_guild? %>
<hr/>
<h3 class="mt-5">Membership Requests</h3>
<% @join_requests.each do |join_request| %>
  <div class="card border shadow bg-body rounded mb-5">
    <div class="card-body">
      <%= render join_request %>
      <p>
        <%= link_to "View join request", edit_join_request_path(id: join_request.id) %>
      </p>
    </div>
  </div>
<% end %>

<% if !@join_requests.any? %>
  <div class="alert alert-info mt-3" role="alert">
    <h5>All set</h5>
    <p>You have no pending requests</p>
  </div>
<% end %>

<% end %>
